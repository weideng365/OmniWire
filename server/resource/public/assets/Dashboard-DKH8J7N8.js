import{s as $,w as W}from"./index-DDJd1yoM.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{o as B,a as p,c as D,b as t,d as e,w as a,t as o,n as G,e as n,r as g,h as b,j as c}from"./index-BarsFDka.js";const R={class:"dashboard"},N={class:"stats-grid"},x={class:"stat-card"},A={class:"icon",style:{background:"linear-gradient(135deg, #22c55e, #16a34a)"}},I={class:"value"},K={class:"stat-card"},L={class:"icon",style:{background:"linear-gradient(135deg, #3b82f6, #2563eb)"}},j={class:"value"},q={class:"stat-card"},E={class:"icon",style:{background:"linear-gradient(135deg, #f59e0b, #d97706)"}},M={class:"value"},O={class:"stat-card"},T={class:"value"},F={class:"action-buttons"},H={class:"info-grid"},J={class:"info-list"},Q={class:"info-item"},U={class:"value"},X={class:"info-item"},Y={class:"value"},Z={class:"info-item"},ss={class:"info-list"},ts={class:"info-item"},es={class:"value"},as={class:"info-item"},ns={class:"value"},os={class:"info-item"},ls={class:"value key"},is={__name:"Dashboard",setup(ds){const l=g({wireguardStatus:"stopped",wireguardPeers:0,forwardRules:0,activeConnections:0}),r=g({name:"OmniWire",version:"1.0.0",status:"running"}),u=g({interface:"wg0",listenPort:51820,publicKey:""}),w=async()=>{try{const[i,s]=await Promise.all([$.dashboard(),W.status()]);i.data&&(l.value=i.data),s.data&&(u.value=s.data,l.value.wireguardStatus=s.data.running?"running":"stopped")}catch(i){console.error("加载数据失败:",i)}};return B(()=>{w()}),(i,s)=>{const y=n("Connection"),d=n("el-icon"),k=n("Switch"),S=n("Link"),P=n("VideoPlay"),C=n("VideoPause"),f=n("Plus"),_=n("el-button"),h=n("Search"),v=n("el-card"),V=n("el-tag");return p(),D("div",R,[t("div",N,[t("div",x,[t("div",A,[e(d,null,{default:a(()=>[e(y)]),_:1})]),t("div",I,o(l.value.wireguardPeers),1),s[3]||(s[3]=t("div",{class:"label"},"WireGuard 客户端",-1))]),t("div",K,[t("div",L,[e(d,null,{default:a(()=>[e(k)]),_:1})]),t("div",j,o(l.value.forwardRules),1),s[4]||(s[4]=t("div",{class:"label"},"转发规则",-1))]),t("div",q,[t("div",E,[e(d,null,{default:a(()=>[e(S)]),_:1})]),t("div",M,o(l.value.activeConnections),1),s[5]||(s[5]=t("div",{class:"label"},"活跃连接",-1))]),t("div",O,[t("div",{class:"icon",style:G({background:l.value.wireguardStatus==="running"?"linear-gradient(135deg, #22c55e, #16a34a)":"linear-gradient(135deg, #64748b, #475569)"})},[e(d,null,{default:a(()=>[l.value.wireguardStatus==="running"?(p(),b(P,{key:0})):(p(),b(C,{key:1}))]),_:1})],4),t("div",T,o(l.value.wireguardStatus==="running"?"运行中":"已停止"),1),s[6]||(s[6]=t("div",{class:"label"},"WireGuard 状态",-1))])]),e(v,{class:"quick-actions"},{header:a(()=>[...s[7]||(s[7]=[t("span",null,"快捷操作",-1)])]),default:a(()=>[t("div",F,[e(_,{type:"primary",size:"large",onClick:s[0]||(s[0]=m=>i.$router.push("/wireguard"))},{default:a(()=>[e(d,null,{default:a(()=>[e(f)]),_:1}),s[8]||(s[8]=c(" 添加 WireGuard 客户端 ",-1))]),_:1}),e(_,{size:"large",onClick:s[1]||(s[1]=m=>i.$router.push("/forward"))},{default:a(()=>[e(d,null,{default:a(()=>[e(f)]),_:1}),s[9]||(s[9]=c(" 添加转发规则 ",-1))]),_:1}),e(_,{size:"large",onClick:s[2]||(s[2]=m=>i.$router.push("/port"))},{default:a(()=>[e(d,null,{default:a(()=>[e(h)]),_:1}),s[10]||(s[10]=c(" 扫描端口 ",-1))]),_:1})])]),_:1}),t("div",H,[e(v,null,{header:a(()=>[...s[11]||(s[11]=[t("span",null,"系统信息",-1)])]),default:a(()=>[t("div",J,[t("div",Q,[s[12]||(s[12]=t("span",{class:"label"},"系统名称",-1)),t("span",U,o(r.value.name),1)]),t("div",X,[s[13]||(s[13]=t("span",{class:"label"},"版本",-1)),t("span",Y,o(r.value.version),1)]),t("div",Z,[s[14]||(s[14]=t("span",{class:"label"},"状态",-1)),e(V,{type:r.value.status==="running"?"success":"danger"},{default:a(()=>[c(o(r.value.status==="running"?"运行中":"异常"),1)]),_:1},8,["type"])])])]),_:1}),e(v,null,{header:a(()=>[...s[15]||(s[15]=[t("span",null,"WireGuard 配置",-1)])]),default:a(()=>[t("div",ss,[t("div",ts,[s[16]||(s[16]=t("span",{class:"label"},"接口",-1)),t("span",es,o(u.value.interface||"wg0"),1)]),t("div",as,[s[17]||(s[17]=t("span",{class:"label"},"监听端口",-1)),t("span",ns,o(u.value.listenPort||"51820"),1)]),t("div",os,[s[18]||(s[18]=t("span",{class:"label"},"公钥",-1)),t("span",ls,o(u.value.publicKey||"未配置"),1)])])]),_:1})])])}}},_s=z(is,[["__scopeId","data-v-961de605"]]);export{_s as default};
