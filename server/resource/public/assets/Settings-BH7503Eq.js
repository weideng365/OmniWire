import{a as g,c as P,d as a,w as o,e as r,g as c,j as m,b as s,r as b,E as u}from"./index-JfatmDp6.js";import{s as V}from"./index-B4JhxhO9.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const x={class:"settings-page"},k={__name:"Settings",setup(h){const i=c(),l=b({username:"admin",oldPassword:"",newPassword:"",confirmPassword:""}),w=async()=>{if(!l.value.oldPassword){u.warning("请输入旧密码");return}if(!l.value.newPassword){u.warning("请输入新密码");return}if(l.value.newPassword!==l.value.confirmPassword){u.warning("两次输入的密码不一致");return}try{await V.changePassword({oldPassword:l.value.oldPassword,newPassword:l.value.newPassword}),u.success("密码修改成功，请重新登录"),localStorage.removeItem("token"),i.push("/login")}catch{}};return(f,e)=>{const d=r("el-input"),n=r("el-form-item"),_=r("el-button"),v=r("el-form"),p=r("el-card");return g(),P("div",x,[a(p,null,{header:o(()=>[...e[4]||(e[4]=[s("span",null,"系统设置",-1)])]),default:o(()=>[a(v,{"label-width":"120px"},{default:o(()=>[a(n,{label:"管理员用户名"},{default:o(()=>[a(d,{modelValue:l.value.username,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.username=t),disabled:""},null,8,["modelValue"])]),_:1}),a(n,{label:"旧密码"},{default:o(()=>[a(d,{modelValue:l.value.oldPassword,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value.oldPassword=t),type:"password",placeholder:"输入旧密码","show-password":""},null,8,["modelValue"])]),_:1}),a(n,{label:"新密码"},{default:o(()=>[a(d,{modelValue:l.value.newPassword,"onUpdate:modelValue":e[2]||(e[2]=t=>l.value.newPassword=t),type:"password",placeholder:"输入新密码","show-password":""},null,8,["modelValue"])]),_:1}),a(n,{label:"确认密码"},{default:o(()=>[a(d,{modelValue:l.value.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.confirmPassword=t),type:"password",placeholder:"确认新密码","show-password":""},null,8,["modelValue"])]),_:1}),a(n,null,{default:o(()=>[a(_,{type:"primary",onClick:w},{default:o(()=>[...e[5]||(e[5]=[m("保存设置",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),a(p,{style:{"margin-top":"24px"}},{header:o(()=>[...e[6]||(e[6]=[s("span",null,"关于",-1)])]),default:o(()=>[e[7]||(e[7]=s("div",{class:"about-info"},[s("p",null,[s("strong",null,"OmniWire"),m(" - WireGuard 服务端 & 端口转发管理系统")]),s("p",null,"版本: 1.0.0"),s("p",null,"技术栈: GoFrame + Vue 3 + Element Plus"),s("p",null,[s("a",{href:"https://github.com",target:"_blank"},"GitHub"),m(" | "),s("a",{href:"https://wireguard.com",target:"_blank"},"WireGuard")])],-1))]),_:1})])}}},U=y(k,[["__scopeId","data-v-7b12bb19"]]);export{U as default};
