import{s as z,w as W}from"./index-DnChWSc1.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{o as D,a as _,c as G,b as s,d as n,w as a,t as e,x as K,e as o,r as v,n as b,y as R}from"./index-Pkfp29g6.js";const M={class:"dashboard"},N={class:"stats-grid"},A={class:"stat-card"},I={class:"icon success"},L={class:"value"},q={class:"stat-card"},E={class:"icon info"},O={class:"value"},T={class:"stat-card"},j={class:"icon warning"},F={class:"value"},H={class:"stat-card"},J={class:"value"},Q={class:"quick-actions"},U={class:"btn-content"},X={class:"btn-icon primary"},Y={class:"btn-content"},Z={class:"btn-icon info"},ss={class:"btn-content"},ts={class:"btn-icon warning"},ns={class:"info-grid"},as={class:"card-header"},os={class:"info-list"},es={class:"info-item"},is={class:"value"},ls={class:"info-item"},ds={class:"value"},cs={class:"info-item"},rs={class:"card-header"},us={class:"info-list"},_s={class:"info-item"},vs={class:"value"},ps={class:"info-item"},fs={class:"value"},ms={class:"info-item"},bs={class:"value key"},gs={__name:"Dashboard",setup(ws){const l=v({wireguardStatus:"stopped",wireguardPeers:0,forwardRules:0,activeConnections:0}),r=v({name:"OmniWire",version:"1.0.0",status:"running"}),c=v({interface:"omniwire",listenPort:51820,publicKey:""}),g=async()=>{try{const[d,t]=await Promise.all([z.dashboard(),W.status()]);d.data&&(l.value=d.data),t.data&&(c.value=t.data,l.value.wireguardStatus=t.data.running?"running":"stopped")}catch(d){console.error("加载数据失败:",d)}};return D(()=>{g()}),(d,t)=>{const w=o("Connection"),i=o("el-icon"),p=o("Switch"),y=o("Link"),h=o("VideoPlay"),k=o("VideoPause"),S=o("Plus"),u=o("el-button"),C=o("Search"),P=o("Monitor"),V=o("el-tag"),f=o("el-card"),x=o("Setting"),$=o("el-tooltip");return _(),G("div",M,[s("div",N,[s("div",A,[s("div",I,[n(i,null,{default:a(()=>[n(w)]),_:1})]),s("div",L,e(l.value.wireguardPeers),1),t[3]||(t[3]=s("div",{class:"label"},"WireGuard 客户端",-1))]),s("div",q,[s("div",E,[n(i,null,{default:a(()=>[n(p)]),_:1})]),s("div",O,e(l.value.forwardRules),1),t[4]||(t[4]=s("div",{class:"label"},"转发规则",-1))]),s("div",T,[s("div",j,[n(i,null,{default:a(()=>[n(y)]),_:1})]),s("div",F,e(l.value.activeConnections),1),t[5]||(t[5]=s("div",{class:"label"},"活跃连接",-1))]),s("div",H,[s("div",{class:K(["icon",l.value.wireguardStatus==="running"?"success":"offline"])},[n(i,null,{default:a(()=>[l.value.wireguardStatus==="running"?(_(),b(h,{key:0})):(_(),b(k,{key:1}))]),_:1})],2),s("div",J,e(l.value.wireguardStatus==="running"?"运行中":"已停止"),1),t[6]||(t[6]=s("div",{class:"label"},"WireGuard 状态",-1))])]),t[18]||(t[18]=s("div",{class:"section-title"},"快捷操作",-1)),s("div",Q,[n(u,{class:"action-btn",size:"large",onClick:t[0]||(t[0]=m=>d.$router.push("/wireguard"))},{default:a(()=>[s("div",U,[s("div",X,[n(i,null,{default:a(()=>[n(S)]),_:1})]),t[7]||(t[7]=s("div",{class:"btn-text"},[s("span",{class:"main"},"添加客户端"),s("span",{class:"sub"},"配置新的 WireGuard 连接")],-1))])]),_:1}),n(u,{class:"action-btn",size:"large",onClick:t[1]||(t[1]=m=>d.$router.push("/forward"))},{default:a(()=>[s("div",Y,[s("div",Z,[n(i,null,{default:a(()=>[n(p)]),_:1})]),t[8]||(t[8]=s("div",{class:"btn-text"},[s("span",{class:"main"},"添加转发"),s("span",{class:"sub"},"设置新的端口转发规则")],-1))])]),_:1}),n(u,{class:"action-btn",size:"large",onClick:t[2]||(t[2]=m=>d.$router.push("/port"))},{default:a(()=>[s("div",ss,[s("div",ts,[n(i,null,{default:a(()=>[n(C)]),_:1})]),t[9]||(t[9]=s("div",{class:"btn-text"},[s("span",{class:"main"},"端口扫描"),s("span",{class:"sub"},"检查服务器端口状态")],-1))])]),_:1})]),s("div",ns,[n(f,{class:"info-card"},{header:a(()=>[s("div",as,[n(i,null,{default:a(()=>[n(P)]),_:1}),t[10]||(t[10]=s("span",null,"系统信息",-1))])]),default:a(()=>[s("div",os,[s("div",es,[t[11]||(t[11]=s("span",{class:"label"},"系统名称",-1)),s("span",is,e(r.value.name),1)]),s("div",ls,[t[12]||(t[12]=s("span",{class:"label"},"版本",-1)),s("span",ds,e(r.value.version),1)]),s("div",cs,[t[13]||(t[13]=s("span",{class:"label"},"状态",-1)),n(V,{effect:"dark",type:r.value.status==="running"?"success":"danger",size:"small"},{default:a(()=>[R(e(r.value.status==="running"?"运行中":"异常"),1)]),_:1},8,["type"])])])]),_:1}),n(f,{class:"info-card"},{header:a(()=>[s("div",rs,[n(i,null,{default:a(()=>[n(x)]),_:1}),t[14]||(t[14]=s("span",null,"WireGuard 配置",-1))])]),default:a(()=>[s("div",us,[s("div",_s,[t[15]||(t[15]=s("span",{class:"label"},"接口",-1)),s("span",vs,e(c.value.interface||"omniwire"),1)]),s("div",ps,[t[16]||(t[16]=s("span",{class:"label"},"监听端口",-1)),s("span",fs,e(c.value.listenPort||"51820"),1)]),s("div",ms,[t[17]||(t[17]=s("span",{class:"label"},"公钥",-1)),n($,{content:c.value.publicKey||"未配置",placement:"top"},{default:a(()=>[s("span",bs,e(c.value.publicKey?c.value.publicKey.substring(0,20)+"...":"未配置"),1)]),_:1},8,["content"])])])]),_:1})])])}}},Ss=B(gs,[["__scopeId","data-v-a19b4c24"]]);export{Ss as default};
