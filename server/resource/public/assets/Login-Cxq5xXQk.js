import{a as V,c as y,b as t,d as s,w as l,C as k,e as a,r as p,g as x,j as C,E as c}from"./index-JfatmDp6.js";import{s as b}from"./index-B4JhxhO9.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"login-page"},L={class:"login-card"},B={class:"logo"},E={__name:"Login",setup(N){const _=x(),r=p(!1),o=p({username:"",password:""}),i=async()=>{if(!o.value.username||!o.value.password){c.warning("请输入用户名和密码");return}r.value=!0;try{const n=await b.login({username:o.value.username,password:o.value.password});localStorage.setItem("token",n.data?.token||n.token),c.success("登录成功"),_.push("/dashboard")}catch{}finally{r.value=!1}};return(n,e)=>{const f=a("Connection"),g=a("el-icon"),m=a("el-input"),u=a("el-form-item"),v=a("el-button"),w=a("el-form");return V(),y("div",z,[t("div",L,[t("div",B,[s(g,{size:"48"},{default:l(()=>[s(f)]),_:1}),e[2]||(e[2]=t("h1",null,"OmniWire",-1)),e[3]||(e[3]=t("p",null,"WireGuard 服务端管理系统",-1))]),s(w,{model:o.value,onSubmit:k(i,["prevent"])},{default:l(()=>[s(u,null,{default:l(()=>[s(m,{modelValue:o.value.username,"onUpdate:modelValue":e[0]||(e[0]=d=>o.value.username=d),placeholder:"用户名",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),s(u,null,{default:l(()=>[s(m,{modelValue:o.value.password,"onUpdate:modelValue":e[1]||(e[1]=d=>o.value.password=d),type:"password",placeholder:"密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),s(u,null,{default:l(()=>[s(v,{type:"primary",size:"large",style:{width:"100%"},onClick:i,loading:r.value},{default:l(()=>[...e[4]||(e[4]=[C(" 登 录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}},S=h(E,[["__scopeId","data-v-3de3f563"]]);export{S as default};
